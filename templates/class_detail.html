{% extends "base.html" %}

{% block title %}{{ class_room.name }} - أيام الدراسة{% endblock %}

{% block content %}
<div class="page-header">
    <div class="breadcrumb">
        <a href="{{ url_for('index') }}">الطوابق</a> / 
        <a href="{{ url_for('floor_detail', floor_id=class_room.floor_id) }}">{{ class_room.floor.name }}</a> / 
        <span>{{ class_room.name }}</span>
    </div>
    <h2>{{ class_room.name }}</h2>
    <p class="subtitle">اختر يوم لعرض الحصص</p>
</div>

<div class="days-grid">
    {% for day in days_data %}
    <div class="day-card {% if day.is_today %}today{% endif %}">
        <div class="day-header">
            <h3>{{ day.name }}</h3>
            {% if day.is_today %}
            <span class="badge badge-success">اليوم</span>
            {% endif %}
        </div>
        <div class="day-body">
            <p class="sessions-count">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7z"/>
                </svg>
                {{ day.schedules_count }} حصة
            </p>
            <a href="{{ url_for('class_day_sessions', class_id=class_room.id, day_num=day.number) }}" 
               class="btn {% if day.is_today %}btn-primary{% else %}btn-secondary{% endif %}">
                عرض الحصص
            </a>
        </div>
    </div>
    {% endfor %}
</div>

{% if not days_data %}
<div class="empty-state">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="64" height="64">
        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/>
    </svg>
    <h3>لا توجد حصص مسجلة</h3>
    <p>لم يتم إضافة جدول دراسي لهذا الفصل بعد</p>
    <a href="{{ url_for('class_schedules', class_id=class_room.id) }}" class="btn btn-primary">إضافة جدول الحصص</a>
</div>
{% endif %}

<div class="back-button-container">
    <a href="{{ url_for('floor_detail', floor_id=class_room.floor_id) }}" class="btn btn-secondary">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
        رجوع إلى الفصول
    </a>
</div>

<style>
.days-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.day-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
}

.day-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.day-card.today {
    border: 2px solid #28a745;
    box-shadow: 0 4px 16px rgba(40, 167, 69, 0.2);
}

.day-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.day-card.today .day-header {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
}

.day-header h3 {
    margin: 0;
    font-size: 1.4em;
}

.day-body {
    padding: 20px;
}

.sessions-count {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #666;
    font-size: 1.1em;
    margin-bottom: 15px;
}

.sessions-count svg {
    color: #667eea;
}

.day-card.today .sessions-count svg {
    color: #28a745;
}

.badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
    font-weight: 600;
}

.badge-success {
    background: rgba(255, 255, 255, 0.3);
    color: white;
}

.empty-state {
    text-align: center;
    padding: 60px 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.empty-state svg {
    color: #ccc;
    margin-bottom: 20px;
}

.empty-state h3 {
    color: #333;
    margin-bottom: 10px;
}

.empty-state p {
    color: #666;
    margin-bottom: 25px;
}

.back-button-container {
    margin-top: 30px;
    text-align: center;
}
</style>
{% endblock %}
