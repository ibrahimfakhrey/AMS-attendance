# 📚 دليل استيراد جميع الطوابق

## 📁 الملفات المتوفرة

تم اكتشاف **5 ملفات PDF** للطوابق:

1. ✅ `1st Floor Schedule 28-Sep-25.pdf`
2. ✅ `2nd Floor Schedule 28-Sep-25.pdf`
3. ✅ `3rd Floor Schedule 28-Sep-25.pdf`
4. ✅ `4th Floor Schedule 28-Sep-25.pdf`
5. ✅ `5th Floor Schedule 28-Sep-25.pdf`

---

## 🚀 طرق الاستيراد

### الطريقة 1️⃣: استيراد جميع الطوابق مرة واحدة (موصى به)

```bash
py import_all_floors.py
```

**سيقوم بـ:**
- ✅ اكتشاف جميع ملفات PDF تلقائيًا
- ✅ فرزها حسب رقم الطابق
- ✅ استخراج الجداول من كل طابق
- ✅ استيراد جميع البيانات إلى قاعدة البيانات
- ✅ عرض تقرير شامل في النهاية

**المتوقع:**
- حوالي 1000-1500 حصة إجمالاً
- 40-60 فصل
- 80-100 معلم
- 30-40 مادة

---

### الطريقة 2️⃣: استيراد طابق واحد في كل مرة

```bash
# الطابق الأول
py import_single_floor.py 1

# الطابق الثاني
py import_single_floor.py 2

# الطابق الثالث
py import_single_floor.py 3

# الطابق الرابع
py import_single_floor.py 4

# الطابق الخامس
py import_single_floor.py 5
```

**مفيد عند:**
- تريد استيراد طابق واحد فقط
- حدث خطأ في استيراد طابق معين
- تريد التحقق من البيانات طابقًا تلو الآخر

---

## ⏱️ الوقت المتوقع

- **طابق واحد:** 30-60 ثانية
- **جميع الطوابق:** 3-5 دقائق

---

## 📊 ما سيتم إنشاؤه

### قاعدة البيانات ستحتوي على:

```
🏢 5 طوابق
   └── 📚 40-60 فصل
       └── 📅 1000-1500 حصة
           ├── 👨‍🏫 80-100 معلم
           └── 📖 30-40 مادة
```

### تفاصيل كل حصة:
- اسم الفصل
- رقم الطابق
- يوم الأسبوع
- وقت البداية والنهاية
- اسم المادة
- اسم المعلم

---

## 🎯 خطوات الاستخدام الكاملة

### 1. الاستيراد

```bash
# استيراد جميع الطوابق
py import_all_floors.py

# اكتب 'yes' عند السؤال
```

### 2. انتظر حتى الانتهاء

ستشاهد:
```
📖 Processing Floor 1...
✅ Extracted 250 schedule entries
📥 Importing to database...
✅ Successfully imported: 250

📖 Processing Floor 2...
✅ Extracted 274 schedule entries
...
```

### 3. تشغيل التطبيق

```bash
py app.py
```

### 4. فتح المتصفح

```
http://localhost:5000
```

### 5. التصفح

- اذهب إلى الصفحة الرئيسية
- اختر أي طابق (1-5)
- اختر أي فصل
- شاهد الجدول الكامل!

---

## 🔍 التحقق من النتائج

بعد الاستيراد، يمكنك التحقق من:

### في لوحة الإدارة:

```
الإدارة → إدارة الطوابق
```
يجب أن ترى **5 طوابق**

```
الإدارة → إدارة الفصول
```
يجب أن ترى **40-60 فصلاً**

```
الإدارة → إدارة المعلمين
```
يجب أن ترى **80-100 معلم**

```
الإدارة → إدارة المواد
```
يجب أن ترى **30-40 مادة**

---

## ⚙️ خيارات متقدمة

### استيراد طوابق محددة فقط

عدّل في `import_all_floors.py`:

```python
# استيراد الطوابق 2، 3، 4 فقط
floor_pdfs = [(2, '2nd Floor Schedule 28-Sep-25.pdf'),
              (3, '3rd Floor Schedule 28-Sep-25.pdf'),
              (4, '4th Floor Schedule 28-Sep-25.pdf')]
```

### إعادة الاستيراد

إذا قمت بالاستيراد مرة وتريد إعادة الاستيراد:
- ✅ النظام يتخطى الحصص المكررة تلقائيًا
- ✅ آمن تمامًا تشغيل الاستيراد عدة مرات

### حذف البيانات وإعادة البدء

```python
# في Python console
from app import app, db
with app.app_context():
    db.drop_all()
    db.create_all()
```

ثم أعد الاستيراد.

---

## 🛠️ حل المشاكل

### المشكلة: "No floor PDF files found"
**الحل:** تأكد من:
- وجود ملفات PDF في نفس المجلد
- أسماء الملفات تحتوي على "Floor"

### المشكلة: خطأ في طابق معين
**الحل:**
1. شغل استيراد باقي الطوابق
2. استخدم `import_single_floor.py` للطابق المشكل
3. أو استخدم `diagnose_pdf.py` لفحص PDF

### المشكلة: بطء في الاستيراد
**الحل:** هذا طبيعي - الاستيراد يعالج مئات الحصص

### المشكلة: "Module not found"
**الحل:** تأكد من تثبيت المكتبات:
```bash
py -m pip install -r requirements.txt
```

---

## 📈 الإحصائيات المتوقعة

بناءً على الطابق الثاني (274 حصة):

| الطابق | الحصص المتوقعة | الفصول |
|--------|----------------|--------|
| الأول  | ~250           | 8-10   |
| الثاني | 274            | 9      |
| الثالث | ~260           | 8-10   |
| الرابع | ~280           | 9-10   |
| الخامس | ~270           | 8-10   |
| **المجموع** | **~1300** | **45** |

---

## ✅ قائمة التحقق

قبل الاستيراد:
- [ ] جميع ملفات PDF موجودة في المجلد
- [ ] تثبيت المكتبات المطلوبة
- [ ] مساحة كافية في القرص (50+ MB)

بعد الاستيراد:
- [ ] تحقق من عدد الطوابق (5)
- [ ] تحقق من عدد الفصول (40-60)
- [ ] تحقق من عدد المعلمين (80-100)
- [ ] اختبر الجدول لفصل واحد على الأقل
- [ ] تأكد من ظهور الحصص الحالية

---

## 🎉 بعد الاستيراد

نظامك الآن يحتوي على:

✅ **هيكل مدرسة كامل** - 5 طوابق  
✅ **جداول شاملة** - 1000+ حصة  
✅ **قاعدة بيانات غنية** - معلمين ومواد  
✅ **جاهز للاستخدام** - تسجيل الحضور فورًا  

**يمكنك الآن:**
- تسجيل حضور المعلمين لأي حصة
- عرض جداول جميع الفصول
- تحليل إحصائيات الحضور
- إدارة البيانات من لوحة التحكم

---

**الآن شغّل الاستيراد!** 🚀

```bash
py import_all_floors.py
```

**ثم استمتع بنظام حضور مدرسة متكامل!** 🎓


